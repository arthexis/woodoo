<odoo>

    <!-- Server Form View -->
    <record id="datacenter_app_server_form_view" model="ir.ui.view">
        <field name="name">datacenter.app.server.form.view</field>
        <field name="model">datacenter.app.server</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group string="Configuration">
                        <field name="name"/>
                        <field name="host"/>
                        <field name="ssh_port"/>
                        <field name="os_user"/>
                        <field name="private_pem_file" widget="binary" filename="private_pem_filename"/>
                        <field name="state" readonly="1"/>
                        <field name="error_count" readonly="1"/>
                    </group>
                </sheet>
                <sheet>
                    <group string="Commands">
                        <field name="command" class="big-field"/>
                        <field name="stdout"/>
                        <field name="stderr"/>
                    </group>
                    <group string="Applications">
                        <field name="application_ids">
                            <tree>
                                <field name="name"/>
                                <field name="app_port"/>
                                <field name="admin_user"/>
                                <field name="expected_status"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Server Tree View -->
    <record id="datacenter_app_server_tree_view" model="ir.ui.view">
        <field name="name">datacenter.app.server.tree.view</field>
        <field name="model">datacenter.app.server</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="host"/>
                <field name="os_user"/>
                <field name="state" readonly="1"/>
                <field name="error_count" readonly="1"/>
            </tree>
        </field>
    </record>

    <!-- Server search view, group by state -->

    <record id="datacenter_app_server_search_view" model="ir.ui.view">
        <field name="name">datacenter.app.server.search.view</field>
        <field name="model">datacenter.app.server</field>
        <field name="arch" type="xml">
            <search>
                <field name="name"/>
                <field name="host"/>
                <field name="os_user"/>
                <field name="state"/>
            </search>
        </field>
    </record>

    <!-- Application Form View -->
    <record id="datacenter_application_form_view" model="ir.ui.view">
        <field name="name">datacenter.application.form.view</field>
        <field name="model">datacenter.application</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group string="Configuration">
                        <field name="name"/>
                        <field name="server_id"/>
                        <field name="service_name"/>
                        <field name="base_url"/>
                        
                        <field name="app_port"/>
                        <field name="admin_user"/>
                        <field name="admin_secret" password="1"/>
                        
                    </group>
                    <group string="Status">
                        <field name="expected_status" readonly="1"/>
                    </group>
                </sheet>
                <sheet>
                    <group string="Operations">
                        <header>
                            <button name="start" string="Start" type="object" class="oe_highlight" colspan="1"/>
                            <button name="stop" string="Stop" type="object" class="oe_highlight" colspan="1"/>
                            <button name="restart" string="Restart" type="object" class="oe_highlight" colspan="1"/>
                            <button name="status" string="Status" type="object" class="oe_highlight" colspan="1"/>
                        </header>
                        <separator/>
                        <group>
                            <field name="start_command"/>
                            <field name="stop_command"/>
                            <field name="restart_command"/>
                            <field name="status_command"/>
                            <field name="status_pattern"/>
                        </group>
                    </group>
                    <group string="Lifecycle">
                        <header>
                            <button name="install" string="Install" type="object" class="oe_highlight" colspan="1"/>
                            <button name="update" string="Update" type="object" class="oe_highlight" colspan="1"/>
                            <button name="uninstall" string="Uninstall" type="object" class="oe_highlight" colspan="1"/>
                        </header>
                        <separator/>
                        <group>
                            <field name="install_script"/>
                            <field name="update_script"/>
                            <field name="uninstall_script"/>
                            <field name="base_path"/>
                            <field name="virtual_env"/>
                        </group>
                    </group>
                    <group string="Custom Scripts">
                        <field name="script_ids">
                            <tree>
                                <field name="name"/>
                                <field name="script"/>
                            </tree>
                        </field>
                    </group>
                    <group string="Databases">
                        <field name="database_ids">
                            <tree>
                                <field name="name"/>
                                <field name="ip_address"/>
                                <field name="db_user"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Application Tree View -->
    <record id="datacenter_app_tree_view" model="ir.ui.view">
        <field name="name">datacenter.application.tree.view</field>
        <field name="model">datacenter.application</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="server_id"/>
                <field name="app_port"/>
                <field name="admin_user"/>
            </tree>
        </field>
    </record>

    <!-- App Database Form View -->
    <record id="datacenter_app_database_form_view" model="ir.ui.view">
        <field name="name">datacenter.app.database.form.view</field>
        <field name="model">datacenter.app.database</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group string="Configuration">	
                        <field name="name" class="big-field"/>
                        <field name="application_id"/>
                        <field name="ip_address"/>
                        <field name="db_port"/>
                        <field name="db_user"/>
                    </group>
                </sheet>
                <sheet>
                    <group string="Custom Scripts">
                        <field name="script_ids">
                            <tree>
                                <field name="name"/>
                                <field name="script"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- App Database Tree View -->
    <record id="datacenter_app_database_tree_view" model="ir.ui.view">
        <field name="name">datacenter.app.database.tree.view</field>
        <field name="model">datacenter.app.database</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="application_id"/>
                <field name="ip_address"/>
                <field name="db_port"/>
                <field name="db_user"/>
            </tree>
        </field>
    </record>

    <!-- App Server Action -->
    <record id="datacenter_app_server_action" model="ir.actions.act_window">
        <field name="name">Servers</field>
        <field name="res_model">datacenter.app.server</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Application Action -->
    <record id="datacenter_application_action" model="ir.actions.act_window">
        <field name="name">Applications</field>
        <field name="res_model">datacenter.application</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- App Database Action -->
    <record id="datacenter_app_database_action" model="ir.actions.act_window">
        <field name="name">Databases</field>
        <field name="res_model">datacenter.app.database</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Menu -->
    <menuitem id="datacenter_menu" name="Datacenter" sequence="1"/>
    <menuitem id="datacenter_menu_app" name="Applications" 
        parent="datacenter_menu" action="datacenter_application_action"/>
    <menuitem id="datacenter_menu_app_server" name="Servers" 
        parent="datacenter_menu" action="datacenter_app_server_action"/>
    <menuitem id="datacenter_menu_app_database" name="Databases" 
        parent="datacenter_menu" action="datacenter_app_database_action"/>

</odoo>